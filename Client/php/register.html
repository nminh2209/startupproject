<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - PsychHealth</title>
    <link href="/Client/css/login-design.css" rel="stylesheet">
    <script src="/Client/script/auth.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
</head>
<body>
    <div class="login-container">
        <h2>PsychHealth Register</h2>
        <form id="registerForm">
            <div class="input-group">
                <input type="text" id="fullName" required placeholder="Họ Và Tên">
            </div>
            <div class="input-group">
                <input type="email" id="email" required placeholder="Email">
            </div>
            <div class="input-group">
                <input type="password" id="password" required placeholder="Mật Khẩu">
            </div>
            <div class="input-group">
                <input type="password" id="confirmPassword" required placeholder="Xác Nhận Mật Khẩu">
            </div>
            <div class="role-select">
                <select id="role" required>
                    <option value="patient">Thân Chủ</option>
                    <option value="doctor">Bác Sĩ</option>
                </select>
            </div>
            <button type="submit">Đăng ký</button>
            <p>Đã Có Tài Khoản? <a href="login.html">Đăng Nhập</a></p>
        </form>
    </div>

    <script>
        // Replace the fetch call with this temporary solution
document.getElementById('registerForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const userData = {
        fullName: document.getElementById('fullName').value,
        email: document.getElementById('email').value,
        password: document.getElementById('password').value,
        role: document.getElementById('role').value
    };

    // Store user data in localStorage
    localStorage.setItem('currentUser', JSON.stringify(userData));

    Swal.fire({
        title: 'Welcome to PsychHealth!',
        text: 'Registration successful!',
        icon: 'success',
        timer: 2000,
        showConfirmButton: false
    }).then(() => {
        window.location.href = '/Client/php/patient-dashboard.html';
    });
});


    </script>
</body>
</html>
